# Azure Form Recognizer Configuration
AZURE_ENDPOINT=your_azure_endpoint
AZURE_API_KEY=your_azure_api_key

# Server Configuration
PORT=5001
NODE_ENV=development

# Database Configuration
DATABASE_URL=postgresql://app:app@postgres:5432/income_expense?schema=public

# Redis Configuration
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=your_redis_password

# CORS & Body
ALLOWED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173
FRONTEND_ORIGIN=http://localhost:5173
API_ORIGIN=http://localhost:5001
JSON_LIMIT=1mb

# Rate Limits (dakika/istek)
LOGIN_WINDOW_MIN=15
LOGIN_MAX=20
MFA_WINDOW_MIN=15
MFA_MAX=20
PASSWORD_WINDOW_MIN=15
PASSWORD_MAX=10
ADMIN_WINDOW_MIN=15
ADMIN_MAX=300

# P2 - Endpoint-specific rate limits
RATE_LOGIN_PER_MIN=6
RATE_REFRESH_PER_SEC=2
RATE_OCR_PER_MIN=3

# Brute Force & Idempotency (Redis)
BRUTE_TTL_SEC=300
BRUTE_MAX=10
IDEMPOTENCY_TTL_SEC=60

# Helmet CSP (temel)
CSP_DEFAULT_SRC='self'
CSP_IMG_SRC='self data:'
CSP_SCRIPT_SRC='self'
CSP_STYLE_SRC='self'

# JWT
JWT_ACCESS_SECRET=dev_access_secret_change_me
JWT_REFRESH_SECRET=dev_refresh_secret_change_me
ACCESS_EXPIRES_IN=15m
REFRESH_EXPIRES_IN=7d

# Cookie ayarları
COOKIE_DOMAIN=localhost
COOKIE_SECURE=false

# Email Configuration
EMAIL_FROM=no-reply@yourdomain.com
EMAIL_LINK_BASE=http://localhost:5173/verify-email
# ilk etapta gerçek SMTP yoksa 'CONSOLE_MAILER=true' ile consola yaz
CONSOLE_MAILER=true

# Mail Provider Selection (sendgrid, mailgun, gmail, veya fallback)
MAIL_PROVIDER=sendgrid
MAIL_FROM="IncomeExpense <no-reply@example.com>"

# SendGrid Configuration
SENDGRID_API_KEY=your_sendgrid_api_key

# Mailgun Configuration  
MAILGUN_SMTP_USER=postmaster@yourdomain.com
MAILGUN_SMTP_PASS=your_mailgun_smtp_password

# Gmail SMTP Configuration (gerçek email için)
GMAIL_USER=your-email@gmail.com
GMAIL_APP_PASSWORD=your-app-password

# 2FA (geçici MFA tokenı için kısa ömürlü secret)
JWT_TMP_SECRET=dev_tmp_secret_change_me
MFA_TMP_EXPIRES_IN=5m

# Güvenlik Ayarları
BCRYPT_COST=14
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true

# CSRF Koruması
CSRF_SAME_SITE=strict
CSRF_SECURE_COOKIES=true
ALLOWED_ORIGINS=https://app.example.com,https://admin.example.com
CSRF_REQUIRED_HEADER=X-Requested-By
CSRF_REQUIRED_VALUE=app

# Rate Limiting (Güvenlik)
BRUTE_FORCE_MAX_ATTEMPTS=5
BRUTE_FORCE_LOCKOUT_TIME=300
OCR_RATE_LIMIT_MAX=10
OCR_RATE_LIMIT_WINDOW=900

# Dosya Yükleme Güvenliği
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf

# Güvenlik Logları
SECURITY_LOG_LEVEL=MEDIUM
SECURITY_LOG_RETENTION_DAYS=90

# Production Güvenlik
TRUST_PROXY=1
STRICT_TRANSPORT_SECURITY=true
HSTS_MAX_AGE=31536000

# Password Security (Pepper - en az 32 karakter)
PEPPER=your_secure_random_pepper_string_at_least_32_chars_long_change_this_immediately

# Feature Flags
ENABLE_TURNSTILE=0
ENABLE_CSRF_STRICT=1
ENABLE_ADVANCED_RATE_LIMITING=1
ENABLE_AZURE_OCR=1
ENABLE_FILE_SCANNING=1
ENABLE_OCR_CIRCUIT_BREAKER=1
USE_NEW_REPORTS=0
ENABLE_ADVANCED_ANALYTICS=0
ENABLE_ADMIN_DASHBOARD=1
ENABLE_SUDO_MODE=1
ENABLE_ADMIN_MFA=1
ENABLE_PROMETHEUS_METRICS=1
ENABLE_DETAILED_LOGGING=1
ENABLE_PERFORMANCE_TRACKING=1
ENABLE_DEBUG_MODE=0
ENABLE_API_DOCS=1
ENABLE_TEST_ENDPOINTS=0
ENABLE_EMAIL_NOTIFICATIONS=1
ENABLE_SENDGRID=1
ENABLE_MAILGUN=0
ENABLE_REDIS_CACHING=1
ENABLE_DB_QUERY_LOGGING=0
ENABLE_CONNECTION_POOLING=1

# Circuit Breaker Configuration
CIRCUIT_BREAKER_TIMEOUT=8000
CIRCUIT_BREAKER_ERROR_THRESHOLD=50
CIRCUIT_BREAKER_RESET_TIMEOUT=30000
CIRCUIT_BREAKER_ROLLING_WINDOW=10000

# Retry Configuration
RETRY_ATTEMPTS=3
RETRY_BASE_DELAY=1000
RETRY_MAX_DELAY=10000
RETRY_JITTER=1000

# Security Headers
STRICT_TRANSPORT_SECURITY=true
HSTS_MAX_AGE=31536000
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block
REFERRER_POLICY=strict-origin-when-cross-origin

# Monitoring & Observability
ENABLE_HEALTH_CHECKS=1
ENABLE_METRICS_COLLECTION=1
ENABLE_REQUEST_TRACING=1
ENABLE_ERROR_TRACKING=1

# Development & Testing
ENABLE_SWAGGER_UI=1
ENABLE_CORS_DEBUG=0
ENABLE_REQUEST_LOGGING=1
ENABLE_RESPONSE_LOGGING=0